[metrics]
# enable metrics server, false or true
enable = true
# metrics server host
host = "0.0.0.0"
# metrics server port
port = 8082
# metrics server request path, default: "/metrics"
path = "/metrics"

[trace]
# enable trace, false or true
enabled = true
# trace exporter type: "jaeger", "otlp-grpc", "otlp-http", or "none"
exporterType = "otlp-grpc"
# trace endpoint
endpoint = "openobserv.arcentra.co:4317"
# trace insecure
insecure = true
# trace headers
headers = {}

# trace batch config
[trace.batch]
# max queue size
maxQueueSize = 2048
# trace batch timeout (duration string, e.g., "5s", "10s", or number as seconds)
batchTimeout = "5s"
# trace batch export timeout (duration string, e.g., "30s", "60s", or number as seconds)
# Increase this if you see "context deadline exceeded" errors
exportTimeout = "60s"
# trace batch export size
maxExportBatchSize = 512

[events]
# event source prefix, e.g. urn:arcentra:executor
sourcePrefix = "urn:arcentra:executor"
# publish timeout (seconds)
timeout = 3

[messageQueue.kafka]
# kafka bootstrap servers
bootstrapServers = "127.0.0.1:9092"
# acks: all, 1, 0
acks = "all"
# retries
retries = 3
# compression: snappy, gzip, lz4, zstd
compression = "zstd"
# security protocol: PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL
securityProtocol = "SASL_PLAINTEXT"

[messageQueue.kafka.sasl]
# mechanism: PLAIN, SCRAM-SHA-256, SCRAM-SHA-512
mechanism = "PLAIN"
# sasl username
username = "admin"
# sasl password
password = "teThLWZqm6RVYYQt8D66"

[messageQueue.kafka.ssl]
# ssl ca file
caFile = ""
# ssl cert file
certFile = ""
# ssl key file
keyFile = ""
# ssl password
password = ""

[log]
# support stdout, file, kafka
output = "stdout"
# log level: DEBUG INFO WARNING ERROR FATAL
level = "DEBUG"
# log write directory
path = "logs"
# log file name
filename = "arcentra.LOG"
# rotate by time
keepHours = 4
# rotate by size
rotateNum = 3
# unit: MB
rotateSize = 256

[grpc]
# grpc server host
host = "0.0.0.0"
# grpc server port
port = 9090
# max connections
maxConnections = 1000
# read write timeout
# unit: second
readWriteTimeout = 5

[http]
# http server host
host = "0.0.0.0"
# http server port
port = 8080
# access log, false or true
accessLog = true
# read timeout
# unit: second
readTimeout = 60
# write timeout
# unit: second
writeTimeout = 60
# idle timeout
# unit: second
idleTimeout = 60
# shutdown timeout
# unit: second
shutdownTimeout = 10
# request body size limit (bytes)
# default: 104857600 (100MB) - for plugin uploads
# unit: bytes
bodyLimit = 104857600

[http.auth]
# jwt access token expire time
# unit: minute
accessExpire = 3600
# jwt refresh token expire time
# unit: minute
refreshExpire = 7200
# jwt secret key
secretKey = "bf284d03-ba65-42d4-a9fe-0d2fbfe61060"

[database]
# Common configuration for all data sources
# sql print, false or true
output = true
# max open connections
maxOpenConns = 500
# max idle connections
maxIdleConns = 5
# max life time
# unit: second
maxLifeTime = 300
# max Idle Time
# unit: second
maxIdleTime = 60

# MySQL data source configuration
[database.mysql]
# mysql host
host = "127.0.0.1"
# mysql port
port = "3306"
# mysql user
user = "root"
# mysql password
password = "muP4woo9Aidiph2jeX8u"
# mysql database name
dbname = "arcentra"

[redis]
# support single, cluster, sentinel
mode = "single"
# address, ip:port or ip1:port,ip2:port for cluster and sentinel(SentinelAddrs)
# For cluster mode: address = "127.0.0.1:7000,127.0.0.1:7001,127.0.0.1:7002"
address = "127.0.0.1:6379"
# redis password
password = ""
# redis database
db = 0
# redis pool size
poolSize = 50
#useTLS = false
#tlsMinVersion = "1.0"
#masterName = ""
#sentinelUsername = ""
#sentinelPassword = ""
# maxRedirects: maximum number of redirects for cluster mode (default: 3)
#maxRedirects = 3
# dialTimeout
# unit: second
dialTimeout = 10
# read timeout
# unit: second
readTimeout = 10
# write timeout
# unit: second
writeTimeout = 10

[taskQueue]
# Task queue configuration
provider = "kafka"
# DelaySlotCount: delay slot count
delaySlotCount = 24
# DelaySlotDuration: delay slot duration in seconds
delaySlotDuration = 3600
# AutoCommit: kafka enable auto commit
autoCommit = false
# SessionTimeout: kafka session timeout in milliseconds
sessionTimeout = 30000
# MaxPollInterval: kafka max poll interval in milliseconds
maxPollInterval = 300000
# MessageFormat: json, sonic, blob, protobuf
messageFormat = "protobuf"
# MessageCodec: optional custom codec name (defaults to MessageFormat)
messageCodec = "protobuf"